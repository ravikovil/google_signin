<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <script src="/path/to/amazon-cognito-identity.min.js"></script>
    <!-- optional: only if you use other AWS services -->
    <script src="/path/to/aws-sdk-2.6.10.js"></script>
    <h1>Login with Google</h1>
    <button id="loginButton">Login with Google</button>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/aws-sdk/2.944.0/aws-sdk.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/amazon-cognito-identity-js/5.2.1/amazon-cognito-identity.min.js"></script> -->

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const poolData = {
            UserPoolId: 'us-east-1_8bH0b4lza',
            ClientId: '5chrpc39rpbvkmkfpatrft8og6'
        };

            var userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData);

            document.getElementById('loginButton').addEventListener('click', function() {
                var authenticationData = {
                    RedirectUri: 'http://localhost:8080', // Redirect URI after successful authentication
                    UserPoolId: poolData.UserPoolId,
                    ClientId: poolData.ClientId,
                    IdentityProvider: 'Google'
                };

                var authenticationDetails = new AmazonCognitoIdentity.AuthenticationDetails(authenticationData);

                var cognitoUser = new AmazonCognitoIdentity.CognitoUser({
                    Username: 'USERNAME',
                    Pool: userPool
                });

                cognitoUser.authenticateUser(authenticationDetails, {
                    onSuccess: function (result) {
                        console.log('Authentication successful', result);
                        // Redirect or perform other actions upon successful authentication
                    },
                    onFailure: function(err) {
                        console.error('Authentication failed', err);
                        // Handle authentication failure
                    },
                    newPasswordRequired: function(userAttributes, requiredAttributes) {
                        // This callback will be triggered if the user needs to set a new password
                    }
                });
            });
        });
    </script>
</body>
</html>
