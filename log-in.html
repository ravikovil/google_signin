<!DOCTYPE html>
<!--  Last Published: Wed Mar 06 2024 13:48:53 GMT+0000 (Coordinated Universal Time)  -->
<html
  data-wf-page="65569e49721b43ee40dd428f"
  data-wf-site="651a1e741b97af0938ef7dd5"
  lang="en"
>
  <head>
    <meta charset="utf-8" />
    <title>PAW PAL</title>
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <link href="css/normalize.css" rel="stylesheet" type="text/css" />
    <link href="css/webflow.css" rel="stylesheet" type="text/css" />
    <script src="https://apis.google.com/js/platform.js" async defer></script>

    <link
      href="css/one-time-test-link-do-not-share.webflow.css"
      rel="stylesheet"
      type="text/css"
    />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link
      href="https://fonts.gstatic.com"
      rel="preconnect"
      crossorigin="anonymous"
    />
    <script
      src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"
      type="text/javascript"
    ></script>
    <script type="text/javascript">
      WebFont.load({ google: { families: ["DM Sans:regular,500,700"] } });
    </script>
    <script type="text/javascript">
      !(function (o, c) {
        var n = c.documentElement,
          t = " w-mod-";
        (n.className += t + "js"),
          ("ontouchstart" in o ||
            (o.DocumentTouch && c instanceof DocumentTouch)) &&
            (n.className += t + "touch");
      })(window, document);
    </script>
    <link href="images/favicon.png" rel="shortcut icon" type="image/x-icon" />
    <link href="images/webclip.png" rel="apple-touch-icon" />
    <!--  Google Tag Manager  -->
    <script>
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, "script", "dataLayer", "GTM-WXXHB6BT");
    </script>
    <!--  End Google Tag Manager  -->
  </head>
  <body>
    <div
      data-w-id="ed7da387-3fa5-16ab-4508-257834d97516"
      data-animation="default"
      data-collapse="medium"
      data-duration="400"
      data-easing="ease"
      data-easing2="ease"
      role="banner"
      class="header-wrapper w-nav"
    >
      <div class="container-default w-container">
        <div
          data-w-id="ed7da387-3fa5-16ab-4508-257834d97518"
          class="header-content-wrapper center"
        >
          <a href="index.html" class="link-block w-inline-block"
            ><img
              src="images/PAWPAL-HOME-LOGO-V3-UPDATED.png"
              width="Auto"
              height="Auto"
              alt=""
              class="image main-head"
          /></a>
          <div class="header-middle">
            <a
              href="old-home-2.html"
              class="header-logo-link center w-nav-brand"
            ></a>
          </div>
        </div>
      </div>
    </div>
    <section class="section hero sign-in">
      <div class="w-layout-blockcontainer container-default w-container">
        <div class="inner-container _660px center">
          <div
            data-w-id="e75aa7bb-c62d-9e67-e869-98bc24d3b2ec"
            class="position-relative"
          >
            <div
              data-w-id="e75aa7bb-c62d-9e67-e869-98bc24d3b2ed"
              style="
                -webkit-transform: translate3d(0, 10%, 0) scale3d(1, 1, 1)
                  rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
                -moz-transform: translate3d(0, 10%, 0) scale3d(1, 1, 1)
                  rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
                -ms-transform: translate3d(0, 10%, 0) scale3d(1, 1, 1)
                  rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
                transform: translate3d(0, 10%, 0) scale3d(1, 1, 1) rotateX(0)
                  rotateY(0) rotateZ(0) skew(0, 0);
                opacity: 0;
              "
              class="card-content sign-in-card-content"
            >
              <div class="gradient-border line-single-left"></div>
              <div>
                <div class="w-users-userloginformwrapper">
                  <form
                    data-wf-user-form-type="login"
                    data-wf-user-form-redirect="/"
                    method="post"
                  >
                    <div class="w-users-userformheader">
                      <h2 class="heading-15">Log in</h2>
                    </div>
                    <label for="Email" class="password">Enter Email</label
                    ><input
                      maxlength="256"
                      placeholder=""
                      name="Email"
                      id="wf-log-in-email"
                      class="input lg w-input"
                      type="email"
                      autocomplete="username"
                      required=""
                      data-wf-user-form-input-type="email"
                    /><label for="Password" class="password"
                      >Enter Password</label
                    ><input
                      maxlength="256"
                      placeholder=""
                      name="Password"
                      id="wf-log-in-password"
                      class="input lg w-input"
                      type="password"
                      required=""
                      data-wf-user-form-input-type="password"
                    /><input
                      type="submit"
                      data-wait="Please wait..."
                      class="w-users-userformbutton btn-primary login w-button"
                      value="Log In"
                    />
                    <div class="mg-top-40px login">
                      <div
                        id="w-node-_51ce308a-e5c9-3c1c-b224-62012b2abf0c-40dd428f"
                        class="mg-bottom-32px"
                      >
                        <div class="flex-horizontal">
                          <div class="divider _0px width-100"></div>
                          <div class="badge-primary sign-in-or">or</div>
                          <div class="divider _0px width-100"></div>
                        </div>
                      </div>
                      <div
                        id="w-node-_51ce308a-e5c9-3c1c-b224-62012b2abf12-40dd428f"
                        class="mg-bottom-24px"
                      >
                        <a
                          id="google-signin-button"
                          href="#"
                          class="btn-secondary googlesigninbutton login w-inline-block"
                          ><img
                            src="images/google-icon-gpt-x-webflow-template.svg"
                            alt="Google Icon - GPT X Webflow Template"
                          />
                          <div class="mg-top-4px">Sign in with Google</div>
                        </a>
                      </div>
                      <div
                        id="w-node-_51ce308a-e5c9-3c1c-b224-62012b2abf17-40dd428f"
                        class="mg-bottom-24px"
                      ></div>
                    </div>
                    <div class="w-users-userformfooter form-footer-2">
                      <span class="text-span-2"
                        >Don&#x27;t have an account?</span
                      >
                      <a href="sign-up.html" class="link-block-4 w-inline-block"
                        >Sign Up</a
                      >
                      <link rel="prefetch" href="/sign-up" />
                    </div>
                  </form>
                  <div
                    style="display: none"
                    data-wf-user-form-error="true"
                    class="w-users-userformerrorstate w-form-fail"
                  >
                    <div
                      class="user-form-error-msg"
                      wf-login-form-general-error-error="We&#x27;re having trouble logging you in. Please try again, or contact us if you continue to have problems."
                      wf-login-form-invalid-email_or_password-error="Invalid email or password. Please try again."
                    >
                      We&#x27;re having trouble logging you in. Please try
                      again, or contact us if you continue to have problems.
                    </div>
                  </div>
                </div>
              </div>
              <div class="gradient-border line-single-right"></div>
            </div>
            <div class="floating-sphere sign-in-top-sphere"></div>
            <div class="floating-sphere sign-in-sphere-bottom">
              <img
                class="bg-login"
                src="images/PAWPAL-LOGO-ICON-WHITE-V2.png"
                alt=""
                style="
                  -webkit-transform: translate3d(0, 0, 0) scale3d(1, 1, 1)
                    rotateX(0) rotateY(0) rotateZ(0deg) skew(0, 0);
                  -moz-transform: translate3d(0, 0, 0) scale3d(1, 1, 1)
                    rotateX(0) rotateY(0) rotateZ(0deg) skew(0, 0);
                  -ms-transform: translate3d(0, 0, 0) scale3d(1, 1, 1)
                    rotateX(0) rotateY(0) rotateZ(0deg) skew(0, 0);
                  transform: translate3d(0, 0, 0) scale3d(1, 1, 1) rotateX(0)
                    rotateY(0) rotateZ(0deg) skew(0, 0);
                  transform-style: preserve-3d;
                "
                sizes="(max-width: 479px) 100vw, (max-width: 767px) 541.7109375px, (max-width: 991px) 615px, 820px"
                data-w-id="e75aa7bb-c62d-9e67-e869-98bc24d3b32b"
                srcset="
                  images/PAWPAL-LOGO-ICON-WHITE-V2-p-500.png   500w,
                  images/PAWPAL-LOGO-ICON-WHITE-V2-p-800.png   800w,
                  images/PAWPAL-LOGO-ICON-WHITE-V2-p-1080.png 1080w,
                  images/PAWPAL-LOGO-ICON-WHITE-V2-p-1600.png 1600w,
                  images/PAWPAL-LOGO-ICON-WHITE-V2.png        1983w
                "
              />
            </div>
          </div>
        </div>
      </div>
    </section>
    <footer class="footer-2">
      <div class="w-layout-blockcontainer container-default w-container">
        <div
          data-w-id="3efdec92-de9f-0bb6-36d9-9efe9fb0ae0d"
          class="footer-bottom-flex"
        >
          <a
            href="index.html"
            class="footer-logo-wrapper mg-bottom-0 w-inline-block"
            ><img
              src="images/PAWPAL-HOME-LOGO-V3-UPDATED.png"
              alt=""
              width="Auto"
              height="Auto"
              class="image-2"
          /></a>
          <p class="color-neutral-200 mg-bottom-0">
            Copyright Â© 2024 PawPal LLC
          </p>
        </div>
      </div>
    </footer>
    <script
      src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=651a1e741b97af0938ef7dd5"
      type="text/javascript"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script src="js/webflow.js" type="text/javascript"></script>
    <!--  Google Tag Manager (noscript)  -->
    <noscript
      ><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-WXXHB6BT"
        height="0"
        width="0"
        style="display: none; visibility: hidden"
      ></iframe
    ></noscript>
    <!--  End Google Tag Manager (noscript)  -->
    <script>
      function shareContent() {
        // The URL and text you want to share
        var shareData = {
          title: "Welcome to PawPal!",
          text: "Check out PawPal, a unique app with a virtual dog for engaging conversation and support; I think you will enjoy it.",
          url: "https://www.pawpal.ai/", // Replace with the URL you want to share
        };
        // Check if the Web Share API is supported
        if (navigator.share) {
          // Use the Web Share API
          navigator
            .share(shareData)
            .then(() => console.log("Successful share"))
            .catch((error) => console.log("Error sharing:", error));
        } else {
          // Fallback to SMS if Web Share API is not supported
          shareViaSMS(shareData.url);
        }
      }
      function shareViaSMS(url) {
        // Encode the URL to ensure it's safe to include in the SMS body
        var encodedURL = encodeURIComponent(url);
        // Create the SMS link
        var smsLink = "sms:?&body=" + shareData.text + encodedURL;
        // Redirect to the SMS link
        window.location.href = smsLink;
      }
      // Wait for the DOM to be fully loaded
      document.addEventListener("DOMContentLoaded", function () {
        // Attach the shareContent function to the button's click event
        var shareButton = document.getElementById("shareinvite");
        if (shareButton) {
          shareButton.addEventListener("click", shareContent);
        }
      });
    </script>
    <script>
      function shareContent() {
        // The URL and text you want to share
        var shareData = {
          title: "Welcome to PawPal!",
          text: "Check out PawPal, a unique app with a virtual dog for engaging conversation and support; I think you will enjoy it.",
          url: "https://www.pawpal.ai/", // Replace with the URL you want to share
        };
        // Check if the Web Share API is supported
        if (navigator.share) {
          // Use the Web Share API
          navigator
            .share(shareData)
            .then(() => console.log("Successful share"))
            .catch((error) => console.log("Error sharing:", error));
        } else {
          // Fallback to SMS if Web Share API is not supported
          shareViaSMS(shareData.url);
        }
      }
      function shareViaSMS(url) {
        // Encode the URL to ensure it's safe to include in the SMS body
        var encodedURL = encodeURIComponent(url);
        // Create the SMS link
        var smsLink = "sms:?&body=" + shareData.text + encodedURL;
        // Redirect to the SMS link
        window.location.href = smsLink;
      }
      // Wait for the DOM to be fully loaded
      document.addEventListener("DOMContentLoaded", function () {
        function appendRedText(msg) {
          // Get the form element
          const form = document.querySelector("form");

          // Create a span element
          const span = document.createElement("span");
          span.style.color = "red"; // Set text color to red
          span.id = "errorSpan"; // Set an id for the span
          span.textContent = msg;

          // Get the second-to-last element in the form
          const secondToLastElement = form.children[form.children.length - 4];

          // Append the span element after the second-to-last element
          form.insertBefore(span, secondToLastElement.nextSibling);
        }

        function removeRedText() {
          // Get the span element by its id
          const spanToRemove = document.getElementById("errorSpan");

          // Remove the span element if it exists
          if (spanToRemove) {
            spanToRemove.parentNode.removeChild(spanToRemove);
          }
        }

        function setCookie(name, value, expiresInSeconds) {
          const date = new Date();
          const expirationDate = new Date(Date.now() + expiresInSeconds * 1000);
          const expires = "expires=" + expirationDate.toUTCString();
          document.cookie = name + "=" + value + ";" + expires + ";path=/";
        }

        // Sign in

        document
          .querySelector(".w-users-userformbutton")
          .addEventListener("click", (e) => {
            e.preventDefault();
            const email = document.getElementById("wf-log-in-email").value;
            const password =
              document.getElementById("wf-log-in-password").value;

            const myHeaders = new Headers();
            myHeaders.append("Content-Type", "application/json");

            const raw = JSON.stringify({
              username: email,
              password: password,
            });

            const requestOptions = {
              method: "POST",
              headers: myHeaders,
              body: raw,
              redirect: "follow",
            };

            fetch("https://api.pawpal.ai/api/v1/user/login", requestOptions)
              .then((response) => response.text())
              .then((result) => {
                console.log(result);
                if (JSON.parse(result).success === false) {
                  appendRedText(JSON.parse(result).message);
                } else {
                  removeRedText();
                  setCookie(
                    "access_token",
                    JSON.parse(result).message?.AuthenticationResult
                      .AccessToken,
                    JSON.parse(result).message?.AuthenticationResult.ExpiresIn
                  );
                  setCookie(
                    "userId",
                    JSON.parse(result).userId,
                    JSON.parse(result).message?.AuthenticationResult.ExpiresIn
                  );
                  setCookie(
                    "id_token",
                    JSON.parse(result).message?.AuthenticationResult.IdToken,
                    JSON.parse(result).message?.AuthenticationResult.ExpiresIn
                  );
                  setCookie(
                    "refresh_token",
                    JSON.parse(result).message?.AuthenticationResult
                      .RefreshToken,
                    JSON.parse(result).message?.AuthenticationResult.ExpiresIn
                  );
                  alert("Logged In successfully");
                  window.location.href = "/";
                }
              })
              .catch((error) => console.log(error));
          });

        // Attach the shareContent function to the button's click event
        var shareButton = document.getElementById("shareinvite");
        if (shareButton) {
          shareButton.addEventListener("click", shareContent);
        }

        // sign up api
        async function signUpFromGoogle(token) {
          const myHeaders = new Headers();
          myHeaders.append("Content-Type", "application/json");

          const raw = JSON.stringify({ token: token });

          const requestOptions = {
            method: "POST",
            headers: myHeaders,
            body: raw,
            redirect: "follow",
          };

          await fetch(
            "https://api.pawpal.ai/api/v1/user/google",
            requestOptions
          )
            .then((response) => response.text())
            .then((result) => {
              setCookie("userId", JSON.parse(result).userId, 1);
              window.location.href = "/";
            })
            .catch((error) => console.error(error));
        }
        // set cookies
        function setCookie(name, value, days) {
          var expires = "";
          if (days) {
            var date = new Date();
            date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);
            expires = "; expires=" + date.toUTCString();
          }
          document.cookie = name + "=" + (value || "") + expires + "; path=/";
        }

        function customSignIn() {
          var auth2 = gapi.auth2.getAuthInstance();
          auth2
            .signIn()
            .then(async function (googleUser) {
              var profile = googleUser.getBasicProfile();
              var idToken = googleUser.getAuthResponse().id_token;
              setCookie("access_token", idToken, 1);
              alert(idToken)
              await signUpFromGoogle(idToken);
            })
            .catch(function (error) {
              if (error.error === "popup_closed_by_user") {
                console.log("Sign-in popup was closed by the user.");
              } else {
                console.error(error);
              }
            });
        }

        window.onload = function () {
          gapi.load("auth2", function () {
            var auth2 = gapi.auth2.init({
              client_id: '973379163079-ljuo4kmscrj7lcude03s5guboc382v7q.apps.googleusercontent.com',
              scope: "email",
              plugin_name:"pawpal"
            });
            auth2.attachClickHandler(
              "google-signin-button",
              {},
              customSignIn,
              function (error) {
                console.error(error);
              }
            );
          });
        };
      });
    </script>
  </body>
</html>
